<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <title>Input de voz</title>
</head>

<body>
    <input type="text" id="input-voz" placeholder="Habla aquí">

    <script src="https://apis.google.com/js/api.js"></script>
    <script>
        // Crea un cliente de API de reconocimiento de voz
        const speechClient = new google.cloud.speech.v1.SpeechClient();

        // Define una función para traducir voz a texto
        function traducirVoz() {
            // Obtén el audio del input de voz
            const audio = document.querySelector("#input-voz").value;

            // Crea una solicitud de reconocimiento de voz
            const request = {
                audioContent: audio,
                languageCode: "es-MX",
            };

            // Realiza la solicitud de reconocimiento de voz
            speechClient.recognize(request, (err, response) => {
                if (err) {
                    // Handle error
                } else {
                    // Obtén el texto reconocido
                    const transcript = response.results[0].alternatives[0].transcript;

                    // Actualiza el input de texto con el texto reconocido
                    document.querySelector("#input-texto").value = transcript;
                }
            });
        }

        // Agrega un evento de clic al botón de traducir voz
        document.querySelector("#input-voz").addEventListener("click", traducirVoz);
    </script>
</body>

</html>